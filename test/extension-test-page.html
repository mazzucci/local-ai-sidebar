<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Page Assistant - Extension Test Page</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: #f8f9fa;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .test-section h3 {
            margin-top: 0;
            color: #495057;
        }
        
        .test-text {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }
        
        .highlight-text {
            background: #fff3cd;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
        }
        
        .links-section {
            background: #d4edda;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #28a745;
        }
        
        .links-section a {
            color: #155724;
            text-decoration: none;
            margin-right: 15px;
        }
        
        .links-section a:hover {
            text-decoration: underline;
        }
        
        .test-instructions {
            background: #f8d7da;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            border-left: 4px solid #dc3545;
        }
        
        .test-instructions h4 {
            margin-top: 0;
            color: #721c24;
        }
        
        .test-instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .test-instructions li {
            margin-bottom: 5px;
            color: #721c24;
        }
        
        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        .status-indicator.testing {
            background: #ffc107;
            color: #212529;
        }
        
        .status-indicator.failed {
            background: #dc3545;
        }
    </style>
</head>
<body>
    <div class="status-indicator" id="status-indicator">
        ü§ñ Extension Test Page Ready
    </div>
    
    <div class="container">
        <h1>üß™ AI Page Assistant Extension Test Page</h1>
        
        <div class="test-instructions">
            <h4>üìã Test Instructions:</h4>
            <ol>
                <li>Make sure the AI Page Assistant extension is loaded in Chrome</li>
                <li>Click the extension icon to open the sidebar</li>
                <li>Try selecting text below and using the AI features</li>
                <li>Test the prompt library and favorites</li>
                <li>Test page manipulation features</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>üìù Text Selection Tests</h3>
            <p>Select any of the text below to test text selection functionality:</p>
            
            <div class="test-text">
                <strong>Sample Text 1:</strong> This is a sample paragraph for testing text selection. You can select this text and use it with the AI assistant to get explanations, translations, or summaries.
            </div>
            
            <div class="test-text">
                <strong>Sample Text 2:</strong> Machine learning is a subset of artificial intelligence that focuses on algorithms that can learn and make decisions from data without being explicitly programmed for every task.
            </div>
            
            <div class="highlight-text">
                <strong>Highlighted Text:</strong> This text is already highlighted to test the highlighting functionality. You can select it and ask the AI to explain it or find synonyms.
            </div>
        </div>
        
        <div class="test-section">
            <h3>üîó Links and Content Tests</h3>
            <p>Test the AI's ability to find and analyze links:</p>
            
            <div class="links-section">
                <a href="https://www.google.com" target="_blank">Google</a>
                <a href="https://www.github.com" target="_blank">GitHub</a>
                <a href="https://www.stackoverflow.com" target="_blank">Stack Overflow</a>
                <a href="https://developer.mozilla.org" target="_blank">MDN Web Docs</a>
            </div>
            
            <p>This section contains multiple links that the AI can identify and analyze when you ask it to find all links on the page.</p>
        </div>
        
        <div class="test-section">
            <h3>üé® Page Manipulation Tests</h3>
            <p>Test the page manipulation features:</p>
            
            <div id="manipulation-target" style="padding: 15px; background: #f8f9fa; border-radius: 6px; margin: 10px 0;">
                <strong>Target Element:</strong> This element can be used to test color changes, font size modifications, and other page manipulation features.
            </div>
            
            <p>Try asking the AI to change the colors, modify font sizes, or toggle dark mode on this page.</p>
        </div>
        
        <div class="test-section">
            <h3>üìö Prompt Library Tests</h3>
            <p>Test the prompt library functionality:</p>
            
            <div class="test-text">
                <strong>Test Content:</strong> This is comprehensive test content that includes various elements like text, links, and formatting. The AI should be able to summarize this content, explain specific parts, or answer questions about it.
            </div>
            
            <p>Try using the predefined prompts like "Summarize Page", "Explain Selected Text", or "Find Synonyms" with the text above.</p>
        </div>
        
        <div class="test-section">
            <h3>‚öôÔ∏è Settings and Storage Tests</h3>
            <p>Test settings persistence and storage:</p>
            
            <div class="test-text">
                <strong>Settings Test:</strong> Try changing the creativity level (temperature) in the settings and see if it persists across page reloads. Also test the prompt library favorites functionality.
            </div>
            
            <p>Make sure to test that your custom prompts and settings are saved and restored properly.</p>
        </div>
        
        <div class="test-section">
            <h3>üîÑ Tab and Context Tests</h3>
            <p>Test tab switching and context awareness:</p>
            
            <div class="test-text">
                <strong>Context Test:</strong> Open multiple tabs with different content, then switch between them while using the AI assistant. The extension should correctly identify which page you're currently viewing.
            </div>
            
            <p>The page title and URL should update automatically when you switch tabs.</p>
        </div>
    </div>
    
    <script>
        // Test page JavaScript
        console.log('üß™ AI Page Assistant Test Page loaded');
        
        // Update status indicator
        function updateStatus(message, type = 'ready') {
            const indicator = document.getElementById('status-indicator');
            indicator.textContent = message;
            indicator.className = `status-indicator ${type}`;
        }
        
        // Test if extension is loaded
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            updateStatus('‚úÖ Extension Context Detected', 'ready');
            console.log('‚úÖ Extension context detected');
        } else {
            updateStatus('‚ö†Ô∏è Browser Context Only', 'testing');
            console.log('‚ö†Ô∏è Running in browser context only');
        }
        
        // Listen for messages from the extension
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
                console.log('üì® Message received from extension:', request);
                
                if (request.action === 'test') {
                    updateStatus('üß™ Extension Test Active', 'testing');
                    sendResponse({ success: true, message: 'Test page responding' });
                }
                
                return true;
            });
        }
        
        // Add some interactive elements for testing
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üìÑ Test page DOM loaded');
            
            // Add click handlers for testing
            const testElements = document.querySelectorAll('.test-text, .highlight-text');
            testElements.forEach((element, index) => {
                element.addEventListener('click', () => {
                    console.log(`üñ±Ô∏è Test element ${index + 1} clicked`);
                    updateStatus(`üñ±Ô∏è Element ${index + 1} Selected`, 'testing');
                    
                    setTimeout(() => {
                        updateStatus('‚úÖ Extension Context Detected', 'ready');
                    }, 2000);
                });
            });
        });
    </script>
</body>
</html>
